<!DOCTYPE html>
<html>
<head>
  <title>Genesys Client App SDK Test</title>
</head>
<body>
  <h2 id="status">Initializing...</h2>

  <script src="https://sdk-cdn.mypurecloud.com/client-apps/2.6.7/purecloud-client-app-sdk.js"></script>
  <script>
    const clientApp = new window.purecloud.apps.ClientApp();

    clientApp.on('ready', () => {
      console.log("‚úÖ ClientApp is ready");
      document.getElementById('status').textContent = '‚úÖ Connected to Genesys Cloud';
    });

    clientApp.on('context', (ctx) => {
      console.log("üì¶ Context received:", ctx);
      const id = ctx?.interaction?.conversationId;
      if (id) {
        document.getElementById('status').textContent = `üéß Active Interaction ID: ${id}`;
      } else {
        document.getElementById('status').textContent = '‚ùå No interaction ID found';
      }
    });

    clientApp.on('error', (err) => {
      console.error("‚ùå SDK Error:", err);
      document.getElementById('status').textContent = '‚ùå SDK Error';
    });
  </script>
</body>
</html>
